<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ï£ºÏãù ÏàòÏùµÎ•† Í≥ÑÏÇ∞Í∏∞</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f5f5f5;
            margin: 0;
            padding: 20px;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: linear-gradient(145deg,#e6e8e9,#f5f6f7);
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.15);
            border: 1px solid #c0c5c9;
        }
        
        .header {
            text-align: center;
            margin-bottom: 20px;
        }
        
        .header h1 {
            font-size: 24px;
            color: #445566;
            margin: 0;
        }
        
        .tabs {
            display: flex;
            margin-bottom: 20px;
        }
        
        .tab-btn {
            flex: 1;
            padding: 10px;
            font-weight: bold;
            cursor: pointer;
            border: 1px solid #c0c5c9;
            text-align: center;
            transition: all 0.3s;
        }
        
        .tab-btn:first-child {
            border-radius: 5px 0 0 5px;
        }
        
        .tab-btn:last-child {
            border-radius: 0 5px 5px 0;
        }
        
        .tab-btn.active {
            background: linear-gradient(145deg,#5b6d80,#445566);
            color: white;
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }
        
        .tab-btn:not(.active) {
            background: #e6e8e9;
            color: #667788;
        }
        
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
        }
        
        .calculator-box {
            background: #fff;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 15px;
            border: 1px solid #c0c5c9;
            box-shadow: 0 2px 6px rgba(0,0,0,0.05);
        }
        
        .input-group {
            margin-bottom: 15px;
        }
        
        .input-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
            color: #445566;
        }
        
        .input-wrapper {
            position: relative;
        }
        
        .input-wrapper input, 
        .input-wrapper select {
            width: 100%;
            padding: 10px;
            font-size: 16px;
            border: 1px solid #c0c5c9;
            border-radius: 5px;
            box-sizing: border-box;
            background: #fcfdfe;
        }
        
        .input-wrapper .unit {
            position: absolute;
            right: 10px;
            top: 50%;
            transform: translateY(-50%);
            color: #445566;
            font-weight: bold;
        }
        
        button {
            width: 100%;
            padding: 15px;
            font-size: 18px;
            font-weight: bold;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .calc-btn {
            background: linear-gradient(145deg,#5b6d80,#445566);
            color: white;
            margin-top: 15px;
            box-shadow: 0 3px 6px rgba(68,85,102,0.3);
        }
        
        .reset-btn {
            background: linear-gradient(145deg,#c14040,#9e2a2a);
            color: white;
            margin-top: 15px;
            box-shadow: 0 3px 6px rgba(0,0,0,0.2);
        }
        
        button:hover {
            box-shadow: 0 5px 10px rgba(0,0,0,0.3);
            transform: translateY(-2px);
        }
        
        .result-section {
            background: #fff;
            padding: 15px;
            border-radius: 8px;
            margin-top: 20px;
            border: 1px solid #c0c5c9;
            box-shadow: 0 2px 6px rgba(0,0,0,0.05);
            display: none;
        }
        
        .result-summary {
            margin-bottom: 10px;
            border-bottom: 1px solid #d6dde4;
            padding-bottom: 8px;
        }
        
        .result-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 5px;
        }
        
        .result-label {
            font-size: 13px;
            color: #445566;
            font-weight: bold;
        }
        
        .result-value {
            font-weight: bold;
            color: #333;
        }
        
        .result-highlight {
            text-align: center;
            margin-bottom: 10px;
            padding: 12px;
            border-radius: 8px;
            background: linear-gradient(145deg,#eef0f2,#f8f9fa);
            box-shadow: inset 0 1px 1px rgba(255,255,255,0.6), 0 1px 3px rgba(0,0,0,0.05);
            border: 1px solid #d6dde4;
        }
        
        .result-highlight-label {
            font-size: 14px;
            color: #445566;
            margin-bottom: 3px;
            font-weight: bold;
        }
        
        .result-highlight-value {
            font-size: 24px;
            font-weight: bold;
            text-shadow: 0 1px 1px rgba(255,255,255,0.7);
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            min-width: 600px;
        }
        
        th {
            padding: 12px 15px;
            text-align: left;
            color: #445566;
            font-weight: bold;
            background: #e6e8e9;
            border-bottom: 2px solid #c0c5c9;
        }
        
        td {
            padding: 12px 15px;
            color: #333;
            border-bottom: 1px solid #d6dde4;
        }
        
        tr:nth-child(even) {
            background: #f8f9fa;
        }
        
        .ad-container {
            border: 1px dashed #a0a8b0;
            border-radius: 5px;
            padding: 10px;
            margin: 15px 0;
            text-align: center;
            background: #f8f9fa;
            max-width: 100%;
            overflow: hidden;
            position: relative;
        }
        
        .ad-title {
            font-size: 18px;
            color: #445566;
            margin-bottom: 5px;
            font-weight: bold;
            text-align: center;
        }
        
        .fee-note {
            margin-top: 20px;
            padding: 15px;
            background: #f0f2f5;
            border-radius: 8px;
            border: 1px solid #d6dde4;
        }
        
        .fee-note h4 {
            color: #445566;
            margin-top: 0;
            margin-bottom: 10px;
        }
        
        .fee-note ul {
            color: #667788;
            margin: 0;
            padding-left: 20px;
        }
        
        .fee-note li {
            margin-bottom: 5px;
        }
        
        .table-container {
            overflow-x: auto;
        }
        
        @media (max-width: 768px) {
            .container {
                padding: 15px;
            }
            
            .calculator-box {
                padding: 12px;
            }
            
            button {
                padding: 12px;
                font-size: 16px;
            }
            
            .result-highlight-value {
                font-size: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Ï£ºÏãù ÏàòÏùµÎ•† Í≥ÑÏÇ∞Í∏∞ üìà</h1>
        </div>
        
        <div class="tabs">
            <div id="calculator-tab" class="tab-btn active">Í≥ÑÏÇ∞Í∏∞</div>
            <div id="fee-info-tab" class="tab-btn">ÏàòÏàòÎ£å Ï†ïÎ≥¥</div>
        </div>
        
        <!-- Í≥ÑÏÇ∞Í∏∞ ÏÑπÏÖò -->
        <div id="calculator-section" class="tab-content active">
            <div class="calculator-box">
                <div class="input-group">
                    <label>üí∞ Îß§Ïàò Í∞ÄÍ≤©</label>
                    <div class="input-wrapper">
                        <input id="buy-price" type="tel" inputmode="numeric" placeholder="Ï£ºÎãπ Îß§Ïàò Í∞ÄÍ≤© ÏûÖÎ†•">
                        <span class="unit">Ïõê</span>
                    </div>
                </div>
                
                <div class="input-group">
                    <label>üî¢ Î≥¥Ïú† ÏàòÎüâ</label>
                    <div class="input-wrapper">
                        <input id="quantity" type="tel" inputmode="numeric" placeholder="Ï£ºÏãù ÏàòÎüâ ÏûÖÎ†•">
                        <span class="unit">Ï£º</span>
                    </div>
                </div>
                
                <div class="input-group">
                    <label>üí∏ Îß§ÎèÑ Í∞ÄÍ≤©</label>
                    <div class="input-wrapper">
                        <input id="sell-price" type="tel" inputmode="numeric" placeholder="Ï£ºÎãπ Îß§ÎèÑ Í∞ÄÍ≤© ÏûÖÎ†•">
                        <span class="unit">Ïõê</span>
                    </div>
                </div>
                
                <div class="input-group">
                    <label>üè¢ Ï¶ùÍ∂åÏÇ¨ ÏÑ†ÌÉù</label>
                    <div class="input-wrapper">
                        <select id="broker">
                            <option value="0.015">ÌÇ§ÏõÄÏ¶ùÍ∂å</option>
                            <option value="0.015">ÏÇºÏÑ±Ï¶ùÍ∂å</option>
                            <option value="0.014">ÎØ∏ÎûòÏóêÏÖãÏ¶ùÍ∂å</option>
                            <option value="0.015">ÌïúÍµ≠Ìà¨ÏûêÏ¶ùÍ∂å</option>
                            <option value="0.016">NHÌà¨ÏûêÏ¶ùÍ∂å</option>
                            <option value="0.015">KBÏ¶ùÍ∂å</option>
                            <option value="0.015">Ïã†ÌïúÍ∏àÏúµÌà¨Ïûê</option>
                            <option value="custom">ÏßÅÏ†ë ÏûÖÎ†•</option>
                        </select>
                    </div>
                </div>
                
                <div id="custom-fee-container" class="input-group" style="display: none;">
                    <label>üî£ Ïª§Ïä§ÌÖÄ ÏàòÏàòÎ£åÏú® (%)</label>
                    <div class="input-wrapper">
                        <input id="custom-fee" type="number" step="0.001" placeholder="ÏàòÏàòÎ£åÏú® ÏßÅÏ†ë ÏûÖÎ†• (ex: 0.015)">
                        <span class="unit">%</span>
                    </div>
                </div>
            </div>
            
            <!-- Í¥ëÍ≥† ÏòÅÏó≠ 1 -->
            <div class="ad-container" style="height: 280px;">
                <div style="max-width: 100%; height: 250px; overflow: hidden; position: relative;">
                    <!-- Í¥ëÍ≥† ÏΩîÎìú ÏÇΩÏûÖ ÏúÑÏπò -->
                </div>
            </div>
            
            <button id="calculate-btn" class="calc-btn">Í≥ÑÏÇ∞ÌïòÍ∏∞</button>
            
            <div id="result" class="result-section">
                <div class="result-summary">
                    <div class="result-row">
                        <div class="result-label">Îß§ÏàòÍ∏àÏï°</div>
                        <div id="res-buy-total" class="result-value"></div>
                    </div>
                    <div class="result-row">
                        <div class="result-label">Îß§ÎèÑÍ∏àÏï°</div>
                        <div id="res-sell-total" class="result-value"></div>
                    </div>
                    <div class="result-row">
                        <div class="result-label">Îß§Ïàò ÏàòÏàòÎ£å</div>
                        <div id="res-buy-fee" class="result-value"></div>
                    </div>
                    <div class="result-row">
                        <div class="result-label">Îß§ÎèÑ ÏàòÏàòÎ£å</div>
                        <div id="res-sell-fee" class="result-value"></div>
                    </div>
                </div>
                
                <div class="result-highlight">
                    <div class="result-highlight-label">ÏàúÏàòÏùµ</div>
                    <div id="res-profit" class="result-highlight-value"></div>
                </div>
                
                <div class="result-highlight">
                    <div class="result-highlight-label">ÏàòÏùµÎ•†</div>
                    <div id="res-profit-rate" class="result-highlight-value"></div>
                </div>
                
                <!-- Í¥ëÍ≥† ÏòÅÏó≠ 2 -->
                <div class="ad-container" style="height: 320px;">
                    <div class="ad-title">‚ú® Ïò§ÎäòÏùò ÌäπÍ∞ÄÏ†úÌíà</div>
                    <div style="max-width: 100%; height: 290px; overflow: hidden; position: relative;">
                        <!-- Í¥ëÍ≥† ÏΩîÎìú ÏÇΩÏûÖ ÏúÑÏπò -->
                    </div>
                </div>
                
                <button id="reset-btn" class="reset-btn">Îã§Ïãú Í≥ÑÏÇ∞ÌïòÍ∏∞</button>
            </div>
        </div>
        
        <!-- ÏàòÏàòÎ£å Ï†ïÎ≥¥ ÏÑπÏÖò -->
        <div id="fee-info-section" class="tab-content">
            <div class="calculator-box">
                <h3 style="text-align: center; color: #445566; margin-top: 0;">Ï£ºÏöî Ï¶ùÍ∂åÏÇ¨ Ïò®ÎùºÏù∏ ÏàòÏàòÎ£å Ï†ïÎ≥¥</h3>
                <p style="text-align: center; color: #667788; font-size: 14px; margin-bottom: 20px;">‚Äª ÏàòÏàòÎ£åÎäî Ï¶ùÍ∂åÏÇ¨ Ï†ïÏ±ÖÏóê Îî∞Îùº Î≥ÄÍ≤ΩÎê† Ïàò ÏûàÏäµÎãàÎã§. (2025ÎÖÑ 3Ïõî Í∏∞Ï§Ä)</p>
                
                <div class="table-container">
                    <table>
                        <thead>
                            <tr>
                                <th>Ï¶ùÍ∂åÏÇ¨</th>
                                <th style="text-align: center;">Îß§Ïàò ÏàòÏàòÎ£å</th>
                                <th style="text-align: center;">Îß§ÎèÑ ÏàòÏàòÎ£å</th>
                                <th style="text-align: center;">Í∏∞ÌÉÄ Ï†ïÎ≥¥</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td style="font-weight: bold;">ÌÇ§ÏõÄÏ¶ùÍ∂å</td>
                                <td style="text-align: center;">0.015%</td>
                                <td style="text-align: center;">0.015%</td>
                                <td style="text-align: center; font-size: 13px; color: #667788;">Í∏∞Î≥∏ Ïò®ÎùºÏù∏ Ï£ºÏãùÍ±∞Îûò ÏàòÏàòÎ£å</td>
                            </tr>
                            <tr>
                                <td style="font-weight: bold;">ÏÇºÏÑ±Ï¶ùÍ∂å</td>
                                <td style="text-align: center;">0.015%</td>
                                <td style="text-align: center;">0.015%</td>
                                <td style="text-align: center; font-size: 13px; color: #667788;">ÌîÑÎ¶¨ÎØ∏ÏóÑ ÏÑúÎπÑÏä§ Ïù¥Ïö© Ïãú Ïö∞ÎåÄ</td>
                            </tr>
                            <tr>
                                <td style="font-weight: bold;">ÎØ∏ÎûòÏóêÏÖãÏ¶ùÍ∂å</td>
                                <td style="text-align: center;">0.014%</td>
                                <td style="text-align: center;">0.014%</td>
                                <td style="text-align: center; font-size: 13px; color: #667788;">Í±∞ÎûòÎüâÏóê Îî∞Îùº Ïö∞ÎåÄ Í∞ÄÎä•</td>
                            </tr>
                            <tr>
                                <td style="font-weight: bold;">ÌïúÍµ≠Ìà¨ÏûêÏ¶ùÍ∂å</td>
                                <td style="text-align: center;">0.015%</td>
                                <td style="text-align: center;">0.015%</td>
                                <td style="text-align: center; font-size: 13px; color: #667788;">ÏûêÏÇ∞Í∑úÎ™®Ïóê Îî∞Îùº Ïö∞ÎåÄ ÌòúÌÉù</td>
                            </tr>
                            <tr>
                                <td style="font-weight: bold;">NHÌà¨ÏûêÏ¶ùÍ∂å</td>
                                <td style="text-align: center;">0.016%</td>
                                <td style="text-align: center;">0.016%</td>
                                <td style="text-align: center; font-size: 13px; color: #667788;">NHÎ©§Î≤ÑÏä§ Îì±Í∏âÎ≥Ñ Ïö∞ÎåÄ</td>
                            </tr>
                            <tr>
                                <td style="font-weight: bold;">KBÏ¶ùÍ∂å</td>
                                <td style="text-align: center;">0.015%</td>
                                <td style="text-align: center;">0.015%</td>
                                <td style="text-align: center; font-size: 13px; color: #667788;">Ïä§ÌÉÄÌÅ¥ÎüΩ ÌöåÏõê Ïö∞ÎåÄ</td>
                            </tr>
                            <tr>
                                <td style="font-weight: bold;">Ïã†ÌïúÍ∏àÏúµÌà¨Ïûê</td>
                                <td style="text-align: center;">0.015%</td>
                                <td style="text-align: center;">0.015%</td>
                                <td style="text-align: center; font-size: 13px; color: #667788;">ÏïåÌåå ÌÅ¥ÎüΩ Îì±Í∏âÎ≥Ñ Ïö∞ÎåÄ</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                
                <div class="fee-note">
                    <h4>üìå ÏàòÏàòÎ£å Í¥ÄÎ†® Ï∞∏Í≥†ÏÇ¨Ìï≠</h4>
                    <ul>
                        <li>ÏÉÅÍ∏∞ ÏàòÏàòÎ£åÏú®ÏùÄ ÏùºÎ∞ò Í≥ÑÏ¢å Í∏∞Ï§ÄÏù¥Î©∞, ÏÉÅÌíàÎ≥Ñ/Í≥†Í∞ùÎ≥Ñ Ïö∞ÎåÄ ÌîÑÎ°úÍ∑∏Îû®Ïóê Îî∞Îùº Ï∞®Ïù¥Í∞Ä ÏûàÏùÑ Ïàò ÏûàÏäµÎãàÎã§.</li>
                        <li>ÎåÄÎ∂ÄÎ∂ÑÏùò Ï¶ùÍ∂åÏÇ¨Îäî Í±∞ÎûòÎüâ, ÏûêÏÇ∞Í∑úÎ™®Ïóê Îî∞Îùº ÏàòÏàòÎ£å Ìï†Ïù∏ ÌîÑÎ°úÍ∑∏Îû®ÏùÑ Ïö¥ÏòÅÌïòÍ≥† ÏûàÏäµÎãàÎã§.</li>
                        <li>Ï¶ùÍ∂åÍ±∞ÎûòÏÑ∏ 0.23%(ÏΩîÏä§Ìîº/ÏΩîÏä§Îã• ÎèôÏùº)Îäî Îß§ÎèÑ ÏãúÏóêÎßå Î∂ÄÍ≥ºÎê©ÎãàÎã§.</li>
                        <li>Ï†ïÌôïÌïú ÏàòÏàòÎ£åÎäî Ìï¥Îãπ Ï¶ùÍ∂åÏÇ¨ ÌôàÌéòÏù¥ÏßÄÎÇò Í≥†Í∞ùÏÑºÌÑ∞Î•º ÌÜµÌï¥ ÌôïÏù∏ÌïòÎäî Í≤ÉÏùÑ Í∂åÏû•Ìï©ÎãàÎã§.</li>
                    </ul>
                </div>
            </div>
            
            <!-- Í¥ëÍ≥† ÏòÅÏó≠ 3 -->
            <div class="ad-container" style="height: 280px;">
                <div style="max-width: 100%; height: 250px; overflow: hidden; position: relative;">
                    <!-- Í¥ëÍ≥† ÏΩîÎìú ÏÇΩÏûÖ ÏúÑÏπò -->
                </div>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // ÌÉ≠ Ï†ÑÌôò Í∏∞Îä•
            const calculatorTab = document.getElementById('calculator-tab');
            const feeInfoTab = document.getElementById('fee-info-tab');
            const calculatorSection = document.getElementById('calculator-section');
            const feeInfoSection = document.getElementById('fee-info-section');
            
            calculatorTab.addEventListener('click', function() {
                calculatorTab.classList.add('active');
                feeInfoTab.classList.remove('active');
                calculatorSection.classList.add('active');
                feeInfoSection.classList.remove('active');
            });
            
            feeInfoTab.addEventListener('click', function() {
                feeInfoTab.classList.add('active');
                calculatorTab.classList.remove('active');
                feeInfoSection.classList.add('active');
                calculatorSection.classList.remove('active');
            });
            
            // Ï¶ùÍ∂åÏÇ¨ ÏÑ†ÌÉù Ïãú Ïª§Ïä§ÌÖÄ ÏàòÏàòÎ£å ÏûÖÎ†•ÎûÄ ÌëúÏãú Ïó¨Î∂Ä
            const brokerSelect = document.getElementById('broker');
            const customFeeContainer = document.getElementById('custom-fee-container');
            
            brokerSelect.addEventListener('change', function() {
                if (this.value === 'custom') {
                    customFeeContainer.style.display = 'block';
                } else {
                    customFeeContainer.style.display = 'none';
                }
            });
            
            // Ïà´Ïûê ÏûÖÎ†• ÌïÑÎìú Ìè¨Îß∑ÌåÖ
            const buyPrice = document.getElementById('buy-price');
            const quantity = document.getElementById('quantity');
            const sellPrice = document.getElementById('sell-price');
            
            // Ïà´Ïûê Ìè¨Îß∑ÌåÖ Ìï®Ïàò
            function formatNumber(input) {
                let value = input.value.replace(/[^\d]/g, '');
                if (value) {
                    input.value = numberWithCommas(parseInt(value));
                } else {
                    input.value = '';
                }
            }
            
            // Ï≤úÎã®ÏúÑ ÏΩ§Îßà Ï∂îÍ∞Ä
            function numberWithCommas(x) {
                return x.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
            }
            
            // ÏΩ§Îßà Ï†úÍ±∞
            function removeCommas(str) {
                return str.replace(/,/g, '');
            }
            
            buyPrice.addEventListener('input', function() { formatNumber(this); });
            quantity.addEventListener('input', function() { formatNumber(this); });
            sellPrice.addEventListener('input', function() { formatNumber(this); });
            
            // Í≥ÑÏÇ∞ÌïòÍ∏∞ Î≤ÑÌäº
            const calculateBtn = document.getElementById('calculate-btn');
            const resultSection = document.getElementById('result');
            
            calculateBtn.addEventListener('click', function() {
                // ÏûÖÎ†•Í∞í Í≤ÄÏ¶ù
                const buyPriceVal = parseInt(removeCommas(buyPrice.value)) || 0;
                const quantityVal = parseInt(removeCommas(quantity.value)) || 0;
                const sellPriceVal = parseInt(removeCommas(sellPrice.value)) || 0;
                
                if (buyPriceVal <= 0 || quantityVal <= 0 || sellPriceVal <= 0) {
                    alert('Î™®Îì† Í∞íÏùÑ Ïò¨Î∞îÎ•¥Í≤å ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî.');
                    return;
                }
                
                // ÏàòÏàòÎ£åÏú® ÏÑ§Ï†ï
                let feeRate;
                if (brokerSelect.value === 'custom') {
                    const customFeeVal = parseFloat(document.getElementById('custom-fee').value);
                    if (isNaN(customFeeVal) || customFeeVal <= 0) {
                        alert('Ïò¨Î∞îÎ•∏ ÏàòÏàòÎ£åÏú®ÏùÑ ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî.');
                        return;
                    }
                    feeRate = customFeeVal / 100;
                } else {
                    feeRate = parseFloat(brokerSelect.value) / 100;
                }
                
                // Í≥ÑÏÇ∞
                const buyTotal = buyPriceVal * quantityVal;
                const sellTotal = sellPriceVal * quantityVal;
                
                const buyFee = Math.round(buyTotal * feeRate);
                const sellFee = Math.round(sellTotal * feeRate);
                
                // Îß§ÎèÑ Ïãú Ï¶ùÍ∂åÍ±∞ÎûòÏÑ∏ (0.23%) Ï†ÅÏö©
                const taxRate = 0.0023;
                const tax = Math.round(sellTotal * taxRate);
                
                // ÏàúÏàòÏùµ Í≥ÑÏÇ∞
                const profit = sellTotal - sellFee - tax - buyTotal - buyFee;
                
                // ÏàòÏùµÎ•† Í≥ÑÏÇ∞ (%)
                const profitRate = (profit / (buyTotal + buyFee)) * 100;
                
                // Í≤∞Í≥º ÌëúÏãú
                document.getElementById('res-buy-total').textContent = numberWithCommas(buyTotal) + 'Ïõê';
                document.getElementById('res-sell-total').textContent = numberWithCommas(sellTotal) + 'Ïõê';
                document.getElementById('res-buy-fee').textContent = numberWithCommas(buyFee) + 'Ïõê';
                document.getElementById('res-sell-fee').textContent = numberWithCommas(sellFee + tax) + 'Ïõê (ÏÑ∏Í∏à Ìè¨Ìï®)';
                
                const profitElement = document.getElementById('res-profit');
                const profitRateElement = document.getElementById('res-profit-rate');
                
                profitElement.textContent = numberWithCommas(profit) + 'Ïõê';
                profitRateElement.textContent = profitRate.toFixed(2) + '%';
                
                // ÏàòÏùµ/ÏÜêÏã§Ïóê Îî∞Î•∏ ÏÉâÏÉÅ Î≥ÄÍ≤Ω
                if (profit > 0) {
                    profitElement.style.color = '#d14836'; // Îπ®Í∞ÑÏÉâ (ÏàòÏùµ)
                    profitRateElement.style.color = '#d14836';
                } else if (profit < 0) {
                    profitElement.style.color = '#4285f4'; // ÌååÎûÄÏÉâ (ÏÜêÏã§)
                    profitRateElement.style.color = '#4285f4';
                } else {
                    profitElement.style.color = '#333'; // Í≤ÄÏ†ïÏÉâ (Î≥ÄÎèô ÏóÜÏùå)
                    profitRateElement.style.color = '#333';
                }
                
                // Í≤∞Í≥º ÏÑπÏÖò ÌëúÏãú
                resultSection.style.display = 'block';
                
                // Í≤∞Í≥ºÎ°ú Ïä§ÌÅ¨Î°§
                resultSection.scrollIntoView({ behavior: 'smooth', block: 'start' });
            });
            
            // Îã§Ïãú Í≥ÑÏÇ∞ÌïòÍ∏∞ Î≤ÑÌäº
            const resetBtn = document.getElementById('reset-btn');
            
            resetBtn.addEventListener('click', function() {
                buyPrice.value = '';
                quantity.value = '';
                sellPrice.value = '';
                brokerSelect.value = '0.015'; // ÌÇ§ÏõÄÏ¶ùÍ∂åÏúºÎ°ú Ï¥àÍ∏∞Ìôî
                document.getElementById('custom-fee').value = '';
                customFeeContainer.style.display = 'none';
                resultSection.style.display = 'none';
                
                // Îß§Ïàò Í∞ÄÍ≤© ÌïÑÎìúÎ°ú Ìè¨Ïª§Ïä§
                buyPrice.focus();
                
                // ÏÉÅÎã®ÏúºÎ°ú Ïä§ÌÅ¨Î°§
                window.scrollTo({ top: 0, behavior: 'smooth' });
            });
        });
    </script>
</body>
</html>